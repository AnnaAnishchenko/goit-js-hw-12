{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgInfo => {\n  return `\n  <li class=\"gallery-card\">\n  <a href=\"${imgInfo.largeImageURL}\">\n     <img class=\"gallery-img\"\n      src=\"${imgInfo.webformatURL}\" \n      alt=\"${imgInfo.tags}\" />\n  </a>\n    <div class=\"info\">\n      <p><b>Likes:</b> ${imgInfo.likes}</p>\n      <p><b>Views:</b> ${imgInfo.views}</p>\n      <p><b>Comments:</b> ${imgInfo.comments}</p>\n      <p><b>Downloads:</b> ${imgInfo.downloads}</p>\n    </div>\n  </li>\n  `;\n};\n","// бібліотека axios\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst API_KEY = '45552769-3540ba49dba2ab2d34c825df8';\n\nexport const fetchPhotos = searchedQuery => {\n  const axiosOptions = {\n    params: {\n      key: API_KEY,\n      q: searchedQuery,\n      orientation: 'horizontal',\n      per_page: 20,\n      safesearch: 'true',\n    },\n  };\n  return axios.get('', axiosOptions);\n};\n","//pixabay.com/api/\n\nimport { createGalleryCardTemplate } from './js/render-functions.js';\nimport { fetchPhotos } from './js/pixabay-api.js';\n\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\n// Створюємо екземпляр SimpleLightbox\nlet lightbox = new SimpleLightbox('.js-gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n//функції для показу  завантажувача\nconst showLoader = () => {\n  loaderEl.style.display = 'block';\n};\n\n//функції для приховування завантажувача\nconst hideLoader = () => {\n  loaderEl.style.display = 'none';\n};\n\nconst onSearchFormSubmit = async event => {\n  // відміна дії за замовчуванням\n  event.preventDefault();\n\n  //значення елемента форми\n  const searchedValue = searchFormEl.elements.user_query.value.trim();\n\n  if (!searchedValue) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n  // Очищення галереї перед новим пошуком\n  galleryEl.innerHTML = '';\n\n  // викликаємо завантажувач\n  showLoader();\n\n  try {\n    // Запит на сервер\n    const response = await fetchPhotos(searchedValue);\n    console.log(response);\n\n    // Перевірка на відсутність результатів\n    if (response.data.hits.length === 0) {\n      iziToast.warning({\n        title: 'Warning',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n\n      searchFormEl.reset();\n      return;\n    }\n\n    // Перебираємо масив, додаємо всі елементи\n    const galleryCardsTemplate = response.data.hits\n      .map(imgDetails => createGalleryCardTemplate(imgDetails))\n      .join('');\n\n    // Додаємо в розмітку HTML\n    galleryEl.innerHTML = galleryCardsTemplate;\n\n    // Оновлюємо галерею SimpleLightbox\n    lightbox.refresh();\n  } catch (err) {\n    console.log(err);\n    iziToast.error({\n      title: 'Error',\n      message: `An error occurred: ${err.message}`,\n    });\n  } finally {\n    // Приховуємо завантажувач після завершення запиту\n    hideLoader();\n  }\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardTemplate","imgInfo","axios","API_KEY","fetchPhotos","searchedQuery","axiosOptions","searchFormEl","galleryEl","loaderEl","lightbox","SimpleLightbox","showLoader","hideLoader","onSearchFormSubmit","event","searchedValue","iziToast","response","galleryCardsTemplate","imgDetails","err"],"mappings":"owBAAO,MAAMA,EAA4BC,GAChC;AAAA;AAAA,aAEIA,EAAQ,aAAa;AAAA;AAAA,aAErBA,EAAQ,YAAY;AAAA,aACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA,yBAGAA,EAAQ,KAAK;AAAA,yBACbA,EAAQ,KAAK;AAAA,4BACVA,EAAQ,QAAQ;AAAA,6BACfA,EAAQ,SAAS;AAAA;AAAA;AAAA,ICT9CC,EAAM,SAAS,QAAU,2BACzB,MAAMC,EAAU,qCAEHC,EAAcC,GAAiB,CAC1C,MAAMC,EAAe,CACnB,OAAQ,CACN,IAAKH,EACL,EAAGE,EACH,YAAa,aACb,SAAU,GACV,WAAY,MACb,CACL,EACE,OAAOH,EAAM,IAAI,GAAII,CAAY,CACnC,ECFMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAGpD,IAAIC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAChB,CAAC,EAGD,MAAMC,EAAa,IAAM,CACvBH,EAAS,MAAM,QAAU,OAC3B,EAGMI,EAAa,IAAM,CACvBJ,EAAS,MAAM,QAAU,MAC3B,EAEMK,EAAqB,MAAMC,GAAS,CAExCA,EAAM,eAAc,EAGpB,MAAMC,EAAgBT,EAAa,SAAS,WAAW,MAAM,OAE7D,GAAI,CAACS,EAAe,CAClBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDT,EAAU,UAAY,GAGtBI,IAEA,GAAI,CAEF,MAAMM,EAAW,MAAMd,EAAYY,CAAa,EAIhD,GAHA,QAAQ,IAAIE,CAAQ,EAGhBA,EAAS,KAAK,KAAK,SAAW,EAAG,CACnCD,EAAS,QAAQ,CACf,MAAO,UACP,QACE,0EACV,CAAO,EAEDV,EAAa,MAAK,EAClB,MACD,CAGD,MAAMY,EAAuBD,EAAS,KAAK,KACxC,IAAIE,GAAcpB,EAA0BoB,CAAU,CAAC,EACvD,KAAK,EAAE,EAGVZ,EAAU,UAAYW,EAGtBT,EAAS,QAAO,CACjB,OAAQW,EAAK,CACZ,QAAQ,IAAIA,CAAG,EACfJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sBAAsBI,EAAI,OAAO,EAChD,CAAK,CACL,QAAY,CAERR,GACD,CACH,EAEAN,EAAa,iBAAiB,SAAUO,CAAkB"}